<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>kaku | 日本語2行で始めるAI英語日記</title>
    <meta
      name="description"
      content="kakuは、日本語2行のメモからAIが自然な英語日記を生成する学習ツールです。無理なく毎日続けられる、新しい英語学習体験を。今すぐ始めて、日常を英語に変えましょう。"
    />
    <meta
      name="keywords"
      content="英語日記, AI学習, 英語スピーキング, ジャーナリング, 英語独学, kaku"
    />

    <!-- OGP -->
    <meta
      property="og:title"
      content="kaku | 日本語で2行、あとはAIにおまかせ。"
    />
    <meta
      property="og:description"
      content="日常のメモを「生きた英語」に変える、新しい英語日記体験。"
    />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/assets/ogp-image.png" />
    <meta name="twitter:card" content="summary_large_image" />

    <link rel="stylesheet" href="./style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Outfit:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div id="app">
      <header>
        <h1>kaku</h1>
        <p class="subtitle" id="daily-subtitle"></p>
      </header>

      <!-- Landing Page (Authentication Required) -->
      <div id="auth-required" style="display: none">
        <div class="lp-container">
          <section class="lp-hero">
            <h2 class="lp-headline">日記を書こう。<br />日本語で、2行だけ。</h2>
            <p class="lp-description">
              あとはAIが、英語日記に仕上げます。<br />
              簡単だから、毎日続く。
            </p>
            <div id="login-container" class="lp-cta-container"></div>
          </section>

          <div class="bento-grid">
            <!-- Card 1: Japanese Input (Large) -->
            <div class="bento-card span-2-col variant-blue">
              <div class="input-preview">
                <div class="preview-date">2025.12.27</div>
                <div class="preview-text">
                  今日は久しぶりにカフェでゆっくり本を読んだ。<br />
                  コーヒーの香りがとても良かった。
                </div>
                <div class="suggestion-bubble">Try: "relaxing time"</div>
              </div>
              <div class="bento-illustration">✍️</div>
              <h3>日本語2行でOK</h3>
              <p>
                難しい英語を考える必要はありません。<br />
                今日あったことを、いつもの日本語で書くだけ。
              </p>
            </div>

            <!-- Card 2: AI Correction -->
            <div class="bento-card variant-purple">
              <div class="output-preview">
                <div class="preview-date">Dec 27, 2025</div>
                <div class="preview-text">
                  Today I spent some quiet time at a café reading a book.<br />
                  The aroma of the coffee was wonderful.
                </div>
                <div class="ai-badge">✨ AI Enhanced</div>
              </div>
              <div class="bento-illustration">✨</div>
              <h3>自然な英語に</h3>
              <p>
                AIがあなたの言葉を、<br />
                ネイティブが使う自然な表現に変換します。
              </p>
            </div>

            <!-- Card 3: Memory -->
            <div class="bento-card">
              <div class="srs-preview">
                <div class="srs-card srs-card-1">
                  <div class="srs-card-label">Today</div>
                  <div class="srs-card-icon">📖</div>
                </div>
                <div class="srs-card srs-card-2">
                  <div class="srs-card-label">3 days</div>
                  <div class="srs-card-icon">📚</div>
                </div>
                <div class="srs-card srs-card-3">
                  <div class="srs-card-label">7 days</div>
                  <div class="srs-card-icon">✅</div>
                </div>
              </div>
              <div class="bento-illustration">🧠</div>
              <h3>忘れない</h3>
              <p>
                忘却曲線に基づいた<br />
                最適なタイミングで復習できます。
              </p>
            </div>

            <!-- Card 4: Alternatives (New) -->
            <div class="bento-card span-2-col">
              <div class="alternatives-preview">
                <div class="alt-option alt-option-1">
                  <div class="alt-tag">Formal</div>
                  <div class="alt-text">I'm delighted to help you.</div>
                </div>
                <div class="alt-option alt-option-2">
                  <div class="alt-tag">Casual</div>
                  <div class="alt-text">I'm happy to help!</div>
                </div>
                <div class="alt-option alt-option-3">
                  <div class="alt-tag">Friendly</div>
                  <div class="alt-text">I'd love to help you out!</div>
                </div>
              </div>
              <div class="bento-illustration">💡</div>
              <h3>表現の幅を広げる</h3>
              <p>
                「別の言い方」もあわせて提案。<br />
                ニュアンスの違いを学び、表現力を高めましょう。
              </p>
            </div>
          </div>

          <footer class="lp-footer">
            <p>© 2025 kaku. All rights reserved.</p>
            <p class="lp-privacy">Your entries are private and secure.</p>
          </footer>
        </div>
      </div>

      <!-- Main App Content (shown when authenticated) -->
      <div id="app-content" style="display: none">
        <!-- Desktop Navigation Tabs (Hidden on Mobile) -->
        <nav id="desktop-nav" class="nav-tabs">
          <button
            class="nav-tab active"
            data-view="generate"
            onclick="window.switchView('generate')"
          >
            <span style="font-size: 1.2rem">✍️</span> 書く
          </button>
          <button
            class="nav-tab"
            data-view="review"
            onclick="window.switchView('review')"
          >
            <span style="font-size: 1.2rem">📖</span> 振り返り
            <span
              id="due-badge-desktop"
              class="badge"
              style="display: none"
            ></span>
          </button>
          <button
            class="nav-tab"
            data-view="history"
            onclick="window.switchView('history')"
          >
            <span style="font-size: 1.2rem">📅</span> カレンダー
          </button>
        </nav>

        <main id="main-container">
          <!-- Content will be injected by main.js -->
          <div id="wizard-container" class="card">
            <div id="step-content">
              <!-- Steps injected here -->
            </div>
            <div id="step-actions">
              <button id="next-btn" class="primary">Next</button>
              <button id="prev-btn" class="secondary" style="display: none">
                Back
              </button>
            </div>
          </div>

          <div id="result-container" class="card" style="display: none">
            <!-- Result displayed here -->
          </div>
        </main>

        <!-- Mobile Bottom Navigation (Fixed) -->
        <nav id="bottom-nav" class="bottom-nav">
          <button
            class="bottom-nav-item active"
            data-view="generate"
            onclick="window.switchView('generate')"
          >
            <div class="icon">✍️</div>
            <div class="label">書く</div>
          </button>
          <button
            class="bottom-nav-item"
            data-view="review"
            onclick="window.switchView('review')"
          >
            <div class="icon-wrapper">
              <div class="icon">📖</div>
              <span
                id="due-badge-mobile"
                class="badge-dot"
                style="display: none"
              ></span>
            </div>
            <div class="label">振り返り</div>
          </button>
          <button
            class="bottom-nav-item"
            data-view="history"
            onclick="window.switchView('history')"
          >
            <div class="icon">📅</div>
            <div class="label">カレンダー</div>
          </button>
        </nav>

        <footer class="app-footer">
          <div id="logout-container"></div>
        </footer>

        <div id="loading-overlay" style="display: none">
          <div class="spinner"></div>
          <p id="loading-text">Writing your journal entry...</p>
        </div>
      </div>
      <!-- End app-content -->
    </div>
    <script type="module" src="./supabase.js"></script>
    <script type="module" src="./auth.js"></script>
    <script type="module" src="./storage.js"></script>
    <script type="module" src="./srs.js"></script>
    <script type="module" src="./review-session.js"></script>
    <script type="module" src="./export.js"></script>
    <script type="module" src="./stats.js"></script>
    <script type="module" src="./main.js"></script>
  </body>
</html>
